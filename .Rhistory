library(Distance)
library(gt)
library(kableExtra)
data("capercaillie")
dist.data <- capercaillie
truncation = max(capercaillie$distance)
transect = "line"
convert.units = 10
# Fit all the following models to the data passed in:
#  - uniform with 0, 1, 2, 3 cosine adjustments
#  - half-normal with 0, 1, 2 cosine adjustments
#  - half-normal with 0, 1, 2 Hermite polynomial
#  - hazard rate with 0, 1, 2 simple polynomial adjustments
models <- data.frame(key = c(rep("unif", 4),
rep("hn", 6),
rep("hr", 3)),
adj = c(rep("cos",7),
rep("herm", 3),
rep("poly",3)),
nadj = c(0,1,2,3, rep(0:2,3)))
# Results storage
lnl_R <- lnl_MCDS <- optimizer <- p_R <- p_MCDS <- Nhat_R <- Nhat_MCDS <- NULL
models$key
for(i in seq(along = models$key)) cat(i, "\n")
?ds
models$key[i]
i<-1
# Fit model using only R optmizer
fit_R <- try(ds(dist.data,
truncation = truncation,
transect = transect,
formula = ~1,
key = models$key[i],
adjustment = models$adj[i],
nadj = models$nadj[i],
cutpoints = cutpoints,
optimizer = "R"))
cutpoints = NULL
# Fit model using only R optmizer
fit_R <- try(ds(dist.data,
truncation = truncation,
transect = transect,
formula = ~1,
key = models$key[i],
adjustment = models$adj[i],
nadj = models$nadj[i],
cutpoints = cutpoints,
optimizer = "R"))
